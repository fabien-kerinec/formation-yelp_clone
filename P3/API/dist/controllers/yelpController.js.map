{"version":3,"sources":["../../server/controllers/yelpController.js"],"names":["token","yelpClient","testToken","req","res","then","response","jsonBody","access_token","catch","console","log","e","yelpController","postSearch","body","search","term","latitude","longitude","radius","limit","json","yelp","businesses"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAIA,QAAQ,kIAAZ;AACA,IAAMC,aAAa,wBAAOD,KAAP,CAAnB;AACA,IAAME,YAAY,SAAZA,SAAY,CAACC,GAAD,EAAMC,GAAN,EAAc;AAC9B,+BAAY,wBAAZ,EAAsC,kEAAtC,EACCC,IADD,CACM,oBAAY;AAChBL,YAAQM,SAASC,QAAT,CAAkBC,YAA1B;AACD,GAHD,EAGGC,KAHH,CAGS,aAAK;AACZC,YAAQC,GAAR,CAAYC,CAAZ;AACD,GALD;AAMD,CAPD;AAQAV;AACA,IAAMW,iBAAiB,EAAvB;;AAEAA,eAAeC,UAAf,GAA4B,UAACX,GAAD,EAAMC,GAAN,EAAc;;AAExCM,UAAQC,GAAR,CAAYR,IAAIY,IAAhB;AACAd,aAAWe,MAAX,CAAkB;AAChBC,UAAMd,IAAIY,IAAJ,CAASE,IADC;AAEhBC,cAAUf,IAAIY,IAAJ,CAASG,QAFH;AAGhBC,eAAYhB,IAAIY,IAAJ,CAASI,SAHL;AAIhBC,YAASjB,IAAIY,IAAJ,CAASK,MAJF;AAKhBC,WAAQlB,IAAIY,IAAJ,CAASM;AALD,GAAlB,EAMGhB,IANH,CAMQ,oBAAY;AAClBK,YAAQC,GAAR,CAAYR,IAAIY,IAAJ,CAASG,QAArB;AACAR,YAAQC,GAAR,CAAYR,IAAIY,IAAJ,CAASI,SAArB;AACAf,QAAIkB,IAAJ,CAAS;AACPC,YAAMjB,SAASC,QAAT,CAAkBiB;AADjB,KAAT;AAGD,GAZD,EAYGf,KAZH,CAYS,aAAK;AACZC,YAAQC,GAAR,CAAYC,CAAZ;AACD,GAdD;AAeD,CAlBD;;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;kBAEeC,c","file":"yelpController.js","sourcesContent":["import yelp, { client, accessToken  } from 'yelp-fusion'\n\nlet token = 'gdrsso4F906v3Ruga2nslfMGe20d0A7cRqarZ_qNcrnv_2nsEIKcnAQ0cXb_uv4xR_l23yCJzwEIibr4_LXGVNvC8NFuMRtHeKZ-0L1nTkm2ArgEuLn2PCKq65Z7WXYx'\nconst yelpClient = client(token)\nconst testToken = (req, res) => {\n  accessToken('OmdFAJteGTt9UbUQTX_ocw', 'f9BCkJhhCK7gts2zIB9OnHDW3a5bfyn7wa0OwZwCvGBNVzyL8GEX1vgG33lWIK1r')\n  .then(response => {\n    token = response.jsonBody.access_token;\n  }).catch(e => {\n    console.log(e)\n  })\n}\ntestToken();\nconst yelpController = {}\n\nyelpController.postSearch = (req, res) => {\n  \n  console.log(req.body)\n  yelpClient.search({\n    term: req.body.term,\n    latitude: req.body.latitude,\n    longitude : req.body.longitude,\n    radius : req.body.radius,\n    limit : req.body.limit\n  }).then(response => {\n    console.log(req.body.latitude);\n    console.log(req.body.longitude)\n    res.json({\n      yelp: response.jsonBody.businesses\n    })\n  }).catch(e => {\n    console.log(e)\n  })\n}\n\n\n//yelpController.postSearch = (req, res) => {\n//  yelpClient.search({\n//    term: 'fine dinner',\n//    location: 'new york',\n//    sort_by: 'best_match',\n//    price: '',\n//    limit: 21\n//  }).then(response => {\n//    res.json({\n//      yelp: response.jsonBody.businesses\n//    })\n//  }).catch(e => {\n//    console.log(e)\n//  })\n//}\n\nexport default yelpController\n"]}